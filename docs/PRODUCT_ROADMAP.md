# TechPulse 产品规划文档

> **核心定位**: 面向开发者的每日AI技术简报 + 智能趋势洞察 + 个性化问答推荐系统
>
> **愿景**: AI技术界的 SmartNews + Perplexity

---

## 📋 目录

1. [产品定位](#产品定位)
2. [三层架构](#三层架构)
3. [数据源策略](#数据源策略)
4. [技术架构](#技术架构)
5. [产品演进路线](#产品演进路线)
6. [优先级任务列表](#优先级任务列表)
7. [商业化方向](#商业化方向)

---

## 🎯 产品定位

### 核心目标
让用户每天打开 TechPulse，**一分钟了解AI界动态 + 一眼看清趋势方向**。

### 差异化价值
- ❌ 不是"信息聚合器"（Feedly已经做得很好）
- ✅ 而是"AI原生的个性化技术助手"
  - **懂你**: 基于兴趣标签的智能推荐
  - **深度**: RAG驱动的洞察式问答（而非简单摘要）
  - **实时**: 多源数据质量过滤 + 信号评分

### 目标用户
1. **AI研究员**: 关注前沿论文、模型架构
2. **AI工程师**: 关注开源项目、工具库
3. **技术产品经理**: 关注行业趋势、商业化产品
4. **学生/学习者**: 关注教程、入门项目

---

## 🏗️ 三层架构

### 1️⃣ 基础层 - 每日简报 + 趋势分析

**核心功能**:
- ✅ 多源数据聚合（GitHub, arXiv, HuggingFace, Zenn）
- ✅ 统计卡片展示（总量/新增/热门主题/数据源）
- ✅ 趋势分析图表（7天/30天趋势变化）
- ✅ 标签云（热门主题词）
- ✅ 最新内容列表（标题+来源+日期+摘要）

**UX理念**:
```
首页信息层级：
1. 今日摘要 + 关键指标
2. 趋势图
3. 详细列表
```

**保留与优化**:
| 模块 | 状态 | 优化建议 |
|------|------|----------|
| 总览卡片 | ✅ 保留 | 统一卡片高度、柔和配色 |
| 趋势分析 | ✅ 保留 | 新增小折线图（标签热度走势） |
| 标签云 | ✅ 保留 | 加上可点击交互 → 过滤或详情页 |
| 最新内容 | ✅ 保留 | 优先展示：标题+来源+日期+一句摘要 |

---

### 2️⃣ 进阶层 - 语义过滤与个性化推荐

**增强功能清单**（按优先级）:

| 优先级 | 功能 | 说明 |
|--------|------|------|
| ⭐⭐⭐ | **数据质量过滤** | 引入信号评分机制，过滤低质量内容 |
| ⭐⭐⭐ | **用户兴趣问卷** | 首次登录选择关注领域，解决冷启动 |
| ⭐⭐ | **智能过滤器** | 数据源/语言/分类/时间范围筛选 |
| ⭐⭐ | **兴趣标签机制** | 用户选择感兴趣主题（LLM/量化/RLHF），定向推荐 |
| ⭐⭐ | **关键词聚类** | 自动将当天新闻聚类（轻量模型/AI Agent框架） |
| ⭐⭐ | **智能搜索+问答** | 支持："今天有哪些新开源模型？" |
| ⭐ | **用户画像建模** | 后台统计点击/收藏行为 → 个性化排序 |
| ⭐ | **订阅/推送** | 每天定时推送感兴趣主题的简报 |

**用户兴趣问卷设计**（解决冷启动）:
```
┌─────────────────────────────┐
│ 🎯 让TechPulse了解你          │
│                             │
│ 你主要关注哪些领域？(多选)     │
│ □ 大语言模型 (LLM)           │
│ □ 计算机视觉 (CV)            │
│ □ 强化学习 (RL)              │
│ □ AI Agent                  │
│ □ 多模态 (Multimodal)        │
│ □ 模型量化 (Quantization)    │
│ □ 开源工具                   │
│                             │
│ 你的技术角色？                │
│ ○ 研究员    ○ 工程师         │
│ ○ 产品经理  ○ 学生           │
│                             │
│ 你更喜欢看：                  │
│ □ 前沿论文  □ 开源项目        │
│ □ 实用工具  □ 行业趋势        │
└─────────────────────────────┘
```

**技术实现**:
- 前端：Login后首次访问弹出Modal
- 后端：存储到`users`表的`preferences`字段(JSON)
- 推荐算法：
  - 冷启动：规则匹配（基于问卷结果）
  - 3天后：协同过滤（基于行为数据）

---

### 3️⃣ 智能层 - RAG + 推荐系统

**核心技术模块**:

| 模块 | 技术思路 | 示例 |
|------|----------|------|
| 🧩 RAG问答系统 | 对每日情报做embedding索引，支持语义问答 | "请解释今天GitHub上最热门的项目gensyn是做什么的？" |
| 📚 背景补全 | 检测概念盲区 → 自动补知识卡 | "什么是LoRA量化？" → 定义+典型论文 |
| 🎯 推荐系统 | 根据浏览/提问历史推荐相似主题 | 看过"transformers" → 推荐"text-generation" |
| 🧩 上下文记忆 | 记住长期关注领域，持续优化权重 | 经常点"LLM/Agent" → 首页优先展示 |

**智能问答架构优化**:
```python
用户提问
  ↓
意图识别（查询 or 分析？）
  ↓
  ├─ 查询类："今天有什么新项目？"
  │     → 直接查数据库 + 格式化返回（无需LLM）
  │
  └─ 分析类："LLM量化技术的发展趋势？"
        → RAG检索相关内容 → LLM总结

好处：
- 简单查询不消耗API（省钱）
- 复杂分析才用LLM（提升质量）
```

**RAG技术栈**:
```yaml
向量数据库: Qdrant (自部署，成本低)
Embedding模型: bge-large-zh-v1.5 (中文效果好)
Reranker: bge-reranker-large (提升10-20%准确率)
LLM: Qwen2.5-7B/14B (成本低，中文强)
```

**推荐算法流程**:
```
用户操作
   ↓
日志捕获（点击/收藏/搜索）
   ↓
用户兴趣模型（关键词/Embedding聚合）
   ↓
推荐算法（相似度 + 时间衰减）
   ↓
生成「个性化简报」与「推荐列表」
```

---

## 📊 数据源策略

### 当前数据源
1. ✅ **GitHub** - 开源项目
2. ✅ **arXiv** - 学术论文
3. ✅ **HuggingFace** - AI模型和数据集
4. ✅ **Zenn** - 日本技术文章（保留，日本技术者需要）

### 数据质量过滤机制

**问题**: 信息过载，噪音太多

**解决方案**: 引入"信号质量评分"

| 数据源 | 质量指标 | 过滤规则 |
|--------|----------|----------|
| **GitHub** | Star增速 + Issue活跃度 + Commit频率 | 过滤Star<100且30天无更新 |
| **arXiv** | 作者影响力 + 引用预测 | 过滤明显垃圾预印本 |
| **HuggingFace** | 下载量增速 + 社区讨论热度 | 过滤下载<1000且无文档 |
| **Zenn** | 点赞数 + 评论数 | 保留Premium文章和高互动 |

**实现方式**:
```python
# backend/app/services/quality_filter.py
class QualityScorer:
    def score_github_repo(self, repo):
        score = 0
        score += min(repo.stars / 1000, 10)  # Star数得分(最高10分)
        score += min(repo.star_growth_rate * 100, 5)  # 增速得分
        score += min(repo.commit_count_30d / 10, 5)  # 活跃度
        return score

    def should_keep(self, item):
        return item.quality_score >= 5.0  # 阈值可调
```

### 新增数据源建议（优先级排序）

| 优先级 | 数据源 | 价值 | 技术难度 |
|--------|--------|------|----------|
| ⭐⭐⭐ | **Hugging Face Daily Papers** | 每天精选论文，质量高 | 低（API可用） |
| ⭐⭐ | **Papers with Code** | 论文+代码实现，实用性强 | 中（需爬虫） |
| ⭐⭐ | **Product Hunt AI** | 商业化产品趋势 | 中（API限制） |
| ⭐ | **AI工具导航站** | 如 There's An AI For That | 中（需爬虫） |
| ❌ | ~~Twitter/Reddit~~ | 噪音太大，难以过滤 | - |

---

## 🛠️ 技术架构

### 前端架构
```
React + TypeScript + Ant Design
├── 页面层
│   ├── HomePage (首页 - 两栏布局)
│   ├── DataSourcePages (GitHub/arXiv/HF/Zenn)
│   ├── TrendsPage (趋势分析)
│   └── ChatPage (AI助手)
├── 组件层
│   ├── InterestSurvey (兴趣问卷Modal)
│   ├── SmartSearchBar (智能搜索栏)
│   ├── PersonalizedFeed (个性化信息流)
│   └── QualityBadge (质量评分徽章)
└── 状态管理
    ├── UserPreferences (用户偏好)
    └── RecommendationEngine (推荐引擎)
```

### 后端架构
```
FastAPI + SQLAlchemy + PostgreSQL
├── 数据采集层
│   ├── collectors/ (GitHub/arXiv/HF/Zenn爬虫)
│   └── quality_filter.py (质量评分)
├── 智能层
│   ├── rag_engine.py (RAG问答)
│   ├── recommender.py (推荐算法)
│   └── embeddings.py (向量化)
├── API层
│   ├── auth.py (用户认证)
│   ├── cards.py (内容API)
│   ├── preferences.py (用户偏好)
│   └── chat.py (问答API)
└── 数据库
    ├── users (用户表 + preferences字段)
    ├── tech_cards (内容表 + quality_score字段)
    ├── user_interactions (用户行为日志)
    └── embeddings (向量索引)
```

### AI成本控制策略

**问题**: 每日摘要生成成本过高
```
假设：100条/天 × 300 tokens = 30K tokens/天
1个月 = 900K tokens ≈ $1.8（GPT-4o-mini）
100个活跃用户 = $180/月
```

**优化方案**:

| 方案 | 成本 | 质量 | 推荐 |
|------|------|------|------|
| A. 批量摘要 | 降低90% | 中 | ⭐⭐⭐ |
| B. 本地小模型 | 仅GPU电费 | 中高 | ⭐⭐ |
| C. 模板化生成 | $0 | 低 | ⭐ |

**推荐实施**:
```python
# 方案A: 批量摘要（凌晨3点执行）
async def generate_daily_summary():
    all_items = db.query(TechCard).filter(
        TechCard.created_at >= datetime.now() - timedelta(days=1)
    ).all()

    # 一次API调用处理所有内容
    prompt = f"""
    请用一段话总结今天AI界的3个关键趋势:

    今日收录内容:
    {format_items(all_items)}
    """

    summary = await llm.generate(prompt)
    cache.set("daily_summary", summary, expire=86400)
```

---

## 🎨 UI/UX 设计

### 首页布局（两栏设计）

```
┌─────────────────────────────────────────────────┐
│  TechPulse    🔍 搜索/提问框           👤 用户   │
├──────────────────────┬──────────────────────────┤
│                      │  📊 今日关键指标          │
│  🔥 今日简报          │  ├─ 新增：126            │
│                      │  ├─ 热门：LLM量化         │
│  [质量★★★★☆]        │  └─ 活跃：GitHub          │
│  1. Qwen2.5发布      │                          │
│     中文最强开源...  │  📈 7日趋势               │
│     GitHub · 2小时前 │  [迷你折线图]            │
│                      │                          │
│  [质量★★★★★]        │  🏷️ 热门标签             │
│  2. Llama3.3-70B    │  #LLM  #Agent  #CV       │
│     性能超越...      │  #RLHF  #量化  #多模态    │
│     arXiv · 5小时前  │                          │
│                      │  💡 为你推荐              │
│  3. MCP协议详解      │  基于你的兴趣：           │
│     Claude新特性...  │  • LLM                   │
│     Zenn · 8小时前   │  • Agent                 │
│                      │  • 开源工具               │
│  [加载更多]          │                          │
│                      │                          │
└──────────────────────┴──────────────────────────┘
```

**关键变化**:
1. **左侧主内容区**: 只显示简报列表（信息流）
2. **右侧侧边栏**: 所有统计数据（不干扰阅读）
3. **顶部搜索栏**: 同时支持关键词搜索和AI问答
4. **质量徽章**: 每条内容显示质量评分

### 搜索/问答栏设计
```
┌────────────────────────────────────────┐
│ 🔍 搜索关键词，或问问TechPulse...       │
│                                        │
│ 💡 试试问：                             │
│ • 今天LLM有什么新突破？                 │
│ • 什么是LoRA量化技术？                  │
│ • 推荐一些AI Agent框架                  │
└────────────────────────────────────────┘
```

---

## 🚀 产品演进路线

### 阶段1: 基础版（v1.0）- 2周
**目标**: 每日简报 + 趋势总览

| 任务 | 状态 | 优先级 |
|------|------|--------|
| 修复当前Bug（翻译、显示） | ✅ 完成 | P0 |
| 实现数据质量过滤机制 | 🔄 进行中 | P0 |
| 优化首页UI（两栏布局） | ⏳ 待开始 | P0 |
| 添加质量评分徽章 | ⏳ 待开始 | P1 |
| 优化标签云交互 | ⏳ 待开始 | P1 |

**交付标准**:
- ✅ 用户打开首页，1分钟内能看到高质量的今日内容
- ✅ 右侧侧边栏显示清晰的趋势图和热门标签
- ✅ 每条内容有明确的质量评分

---

### 阶段2: 个性化版（v1.5）- 3周
**目标**: 用户画像 + 智能推荐

| 任务 | 状态 | 优先级 |
|------|------|--------|
| 创建用户兴趣问卷（冷启动） | ⏳ 待开始 | P0 |
| 实现基于标签的推荐 | ⏳ 待开始 | P0 |
| 实现智能搜索栏 | ⏳ 待开始 | P1 |
| 添加简单问答（查询类） | ⏳ 待开始 | P1 |
| 用户行为日志记录 | ⏳ 待开始 | P1 |
| 批量摘要生成（每日） | ⏳ 待开始 | P2 |

**交付标准**:
- ✅ 新用户完成问卷后，首页内容立即个性化
- ✅ 搜索栏支持："今天有哪些LLM相关项目？"
- ✅ 右侧侧边栏显示"为你推荐"模块

---

### 阶段3: 智能版（v2.0）- 4周
**目标**: RAG深度问答 + 长期画像

| 任务 | 状态 | 优先级 |
|------|------|--------|
| 集成RAG问答系统（Qdrant + BGE） | ⏳ 待开始 | P0 |
| 实现协同过滤推荐 | ⏳ 待开始 | P1 |
| 添加背景知识补全 | ⏳ 待开始 | P1 |
| 实现订阅推送功能 | ⏳ 待开始 | P2 |
| 添加导出PDF报告 | ⏳ 待开始 | P2 |
| 新增数据源（Papers with Code） | ⏳ 待开始 | P2 |

**交付标准**:
- ✅ 支持深度问答："为什么LoRA量化突然火了？它和QLoRA有什么区别？"
- ✅ 基于3天行为数据，推荐精度提升30%
- ✅ 用户可以订阅每日简报推送

---

## 📊 优先级任务列表

### P0 - 紧急且重要（本周完成）

| 序号 | 任务 | 预计时间 | 负责人 |
|------|------|----------|--------|
| 1 | ✅ 修复翻译Bug（mainCategory, popularTask等） | 0.5h | Claude |
| 2 | 实现数据质量评分系统 | 4h | - |
| 3 | 重构首页UI为两栏布局 | 6h | - |
| 4 | 添加质量评分徽章组件 | 2h | - |

### P1 - 重要（2周内完成）

| 序号 | 任务 | 预计时间 |
|------|------|----------|
| 5 | 创建用户兴趣问卷Modal | 4h |
| 6 | 实现基于标签的推荐逻辑 | 6h |
| 7 | 实现智能搜索栏（支持问答） | 8h |
| 8 | 优化标签云（可点击过滤） | 2h |
| 9 | 添加用户行为日志记录 | 3h |

### P2 - 重要但不紧急（3-4周完成）

| 序号 | 任务 | 预计时间 |
|------|------|----------|
| 10 | 集成RAG问答系统 | 12h |
| 11 | 实现批量摘要生成 | 4h |
| 12 | 新增HuggingFace Daily Papers数据源 | 6h |
| 13 | 实现协同过滤推荐算法 | 10h |

### P3 - 可选（长期优化）

| 序号 | 任务 | 预计时间 |
|------|------|----------|
| 14 | 添加订阅推送功能 | 8h |
| 15 | 导出PDF报告 | 6h |
| 16 | 新增Papers with Code数据源 | 8h |

---

## 💰 商业化方向

### 免费版
- ✅ 每日简报（延迟24小时）
- ✅ 基础过滤（数据源/语言）
- ✅ 每天3次AI问答
- ✅ 热门标签浏览

### Pro版（$9.9/月 或 ¥68/月）
- ⭐ 实时简报推送（无延迟）
- ⭐ 高级过滤（按领域/热度/质量评分）
- ⭐ 无限AI问答
- ⭐ 个性化推荐（基于长期画像）
- ⭐ 导出PDF/Markdown报告
- ⭐ Notion/飞书集成

### 企业版（$99/月 或 ¥688/月）
- 🏢 团队协作（多账号管理）
- 🏢 自定义数据源（监控特定GitHub组织）
- 🏢 API访问（集成到内部系统）
- 🏢 私有部署（本地化部署）
- 🏢 技术报告定制（周报/月报）

---

## 🎯 核心指标（KPI）

### 用户指标
- **DAU/MAU**: 日活/月活用户数
- **留存率**: 次日留存 > 40%, 7日留存 > 20%
- **人均使用时长**: > 5分钟/天
- **推荐点击率**: > 15%

### 质量指标
- **内容质量评分**: 平均 > 7/10
- **噪音过滤率**: > 60%（相比无过滤）
- **问答准确率**: > 85%（基于人工评估）

### 商业指标（未来）
- **免费→付费转化率**: > 5%
- **付费用户月留存**: > 80%
- **NPS（净推荐值）**: > 50

---

## 📝 开发规范

### Git提交规范
```
feat: 新功能
fix: 修复Bug
refactor: 重构
docs: 文档更新
style: 代码格式
perf: 性能优化
test: 测试
chore: 构建/配置
```

### 分支策略
```
main: 生产环境
develop: 开发环境
feature/xxx: 功能分支
hotfix/xxx: 紧急修复
```

### 代码审查要求
1. 所有功能必须有单元测试（覆盖率 > 80%）
2. 前端组件必须有TypeScript类型定义
3. API接口必须有详细文档（OpenAPI格式）
4. 重要功能需要Code Review

---

## 🤝 团队协作

### 当前角色
- **产品/开发**: 用户（主导）
- **AI助手**: Claude（技术支持）

### 未来扩展
- **UI/UX设计师**: 优化视觉设计
- **后端工程师**: 优化性能和架构
- **数据科学家**: 优化推荐算法

---

## 📚 参考资源

### 竞品分析
- **Feedly**: 信息聚合，RSS订阅
- **Perplexity**: AI问答，搜索引擎
- **SmartNews**: 智能推荐，个性化新闻
- **Papers with Code**: 论文+代码

### 技术文档
- [FastAPI官方文档](https://fastapi.tiangolo.com/)
- [Qdrant向量数据库](https://qdrant.tech/)
- [BGE Embedding模型](https://github.com/FlagOpen/FlagEmbedding)
- [Qwen2.5模型](https://github.com/QwenLM/Qwen2.5)

---

## 📅 更新日志

### 2025-10-08
- ✅ 创建产品规划文档
- ✅ 修复翻译Bug（arxiv.mainCategory, huggingface.popularTask）
- ✅ 补全日语翻译
- ✅ 修改HuggingFace页面pipeline名称为中文

### 待更新...

---

**最后更新**: 2025-10-08
**版本**: v0.1.9
**维护者**: TechPulse Team
