# TechPulse v0.4.1 Bugä¿®å¤ä¸åŠŸèƒ½å¢å¼º

## ç‰ˆæœ¬ä¿¡æ¯
- **ç‰ˆæœ¬å·**: v0.4.1
- **å‘å¸ƒæ—¥æœŸ**: 2025-11-06
- **ç±»å‹**: Bugä¿®å¤ + åŠŸèƒ½å¢å¼º
- **åŸºäºç‰ˆæœ¬**: v0.4.0

---

## ä¸€ã€å…³é”®Bugä¿®å¤

### 1.1 å‰ç«¯ç©ºå€¼å®‰å…¨é—®é¢˜å…¨é¢ä¿®å¤

**é—®é¢˜æè¿°**ï¼š
v0.4.0 ç‰ˆæœ¬ä¸­ï¼Œæ–°åˆ›å»ºçš„é¡µé¢åœ¨è®¿é—®æ—¶ä¼šå› ä¸º null å€¼å¼•ç”¨è€Œå´©æºƒï¼š
- `TypeError: Cannot read properties of null (reading 'toLocaleString')`
- `TypeError: Cannot read properties of undefined (reading 'slice')`

**å½±å“èŒƒå›´**ï¼š
- DiscoverPage (ä»Šæ—¥ç²¾é€‰)
- ExplorePage (æ•°æ®æ¢ç´¢)
- CollectionsPage (æˆ‘çš„æ”¶è—)
- QuickViewModal (å¿«é€ŸæŸ¥çœ‹ç»„ä»¶)
- DetailPage (è¯¦æƒ…é¡µ)

**ä¿®å¤å†…å®¹**ï¼š

#### 1.1.1 metadata å­—æ®µç©ºå€¼å¤„ç†
åç«¯ API è¿”å›çš„ metadata å…¨éƒ¨ä¸º nullï¼Œä½†å‰ç«¯ç›´æ¥è°ƒç”¨æ–¹æ³•å¯¼è‡´å´©æºƒã€‚

**ä¿®å¤æ¨¡å¼**ï¼š
```typescript
// ä¿®å¤å‰ï¼ˆä¼šå´©æºƒï¼‰:
{card.metadata.stars !== undefined && (
  <Text>â­ {card.metadata.stars.toLocaleString()}</Text>
)}

// ä¿®å¤åï¼ˆå®‰å…¨ï¼‰:
{card.metadata?.stars !== undefined && card.metadata?.stars !== null && (
  <Text>â­ {card.metadata.stars.toLocaleString()}</Text>
)}
```

**ä¿®å¤æ–‡ä»¶**ï¼š
- [DiscoverPage.tsx:263-283](frontend/src/pages/DiscoverPage.tsx#L263-L283)
- [ExplorePage.tsx:418-443](frontend/src/pages/ExplorePage.tsx#L418-L443)
- [CollectionsPage.tsx:367-385](frontend/src/pages/CollectionsPage.tsx#L367-L385)
- [QuickViewModal.tsx:210-249](frontend/src/components/QuickViewModal.tsx#L210-L249)
- [DetailPage.tsx:322-331](frontend/src/pages/DetailPage.tsx#L322-L331)

#### 1.1.2 tags æ•°ç»„ç©ºå€¼å¤„ç†
tags å­—æ®µå¯èƒ½ä¸º undefinedï¼Œç›´æ¥è°ƒç”¨ `.slice()` ä¼šå´©æºƒã€‚

**ä¿®å¤æ¨¡å¼**ï¼š
```typescript
// ä¿®å¤å‰ï¼ˆä¼šå´©æºƒï¼‰:
<div>
  {card.tags.slice(0, 5).map((tag, index) => (
    <Tag key={index}>{tag}</Tag>
  ))}
</div>

// ä¿®å¤åï¼ˆå®‰å…¨ï¼‰:
{card.tags && card.tags.length > 0 && (
  <div>
    {card.tags.slice(0, 5).map((tag, index) => (
      <Tag key={index}>{tag}</Tag>
    ))}
  </div>
)}
```

**ä¿®å¤æ–‡ä»¶**ï¼š
- [DiscoverPage.tsx:293-302](frontend/src/pages/DiscoverPage.tsx#L293-L302)
- [ExplorePage.tsx:455-463](frontend/src/pages/ExplorePage.tsx#L455-L463)
- [CollectionsPage.tsx:409-418](frontend/src/pages/CollectionsPage.tsx#L409-L418)
- QuickViewModal.tsx - å·²ç»æ­£ç¡®å¤„ç† âœ“

**ä¿®å¤æ•ˆæœ**ï¼š
- âœ… æ‰€æœ‰é¡µé¢ç°åœ¨å¯ä»¥å®‰å…¨åŠ è½½
- âœ… ä¸ä¼šå› ä¸º null/undefined å€¼è€Œå´©æºƒ
- âœ… å‰ç«¯ä¼˜é›…é™çº§ï¼Œç¼ºå°‘æ•°æ®æ—¶ä¸æ˜¾ç¤ºç›¸å…³å­—æ®µ

---

## äºŒã€åŠŸèƒ½å¢å¼º

### 2.1 é¢†åŸŸç­›é€‰åŠŸèƒ½å®ç°

**åŠŸèƒ½æè¿°**ï¼š
å®ç°äº†æŒ‰æŠ€æœ¯é¢†åŸŸç­›é€‰å†…å®¹çš„åŠŸèƒ½ï¼Œæ”¯æŒ5ä¸ªä¸»è¦é¢†åŸŸã€‚

**æ”¯æŒçš„é¢†åŸŸ**ï¼š
1. **LLM** - å¤§è¯­è¨€æ¨¡å‹
2. **CV** - è®¡ç®—æœºè§†è§‰
3. **NLP** - è‡ªç„¶è¯­è¨€å¤„ç†
4. **ML** - æœºå™¨å­¦ä¹ 
5. **Tools** - å¼€å‘å·¥å…·åº“

**å®ç°æ–¹å¼**ï¼š

#### é¢†åŸŸåˆ°æ ‡ç­¾çš„æ™ºèƒ½æ˜ å°„
```python
field_tags_map = {
    'llm': [
        'LLM', 'å¤§è¯­è¨€æ¨¡å‹', 'è¯­è¨€æ¨¡å‹', 'GPT',
        'transformers', 'text-generation', 'conversational',
        'llama', 'chatbot', 'å¯¹è¯'
    ],
    'cv': [
        'è®¡ç®—æœºè§†è§‰', 'CV', 'cs.CV', 'image', 'vision',
        'object-detection', 'segmentation', 'å›¾åƒ', 'è§†è§‰', 'YOLO'
    ],
    'nlp': [
        'NLP', 'è‡ªç„¶è¯­è¨€å¤„ç†', 'cs.CL', 'text', 'language',
        'æ–‡æœ¬', 'BERT', 'token-classification', 'question-answering'
    ],
    'ml': [
        'æœºå™¨å­¦ä¹ ', 'cs.LG', 'machine-learning', 'pytorch',
        'tensorflow', 'scikit-learn', 'æ·±åº¦å­¦ä¹ ', 'deep-learning'
    ],
    'tools': [
        'å·¥å…·', 'tools', 'Python', 'library',
        'framework', 'API', 'dataset', 'æ•°æ®é›†'
    ]
}
```

#### ç­›é€‰é€»è¾‘
ç”±äº SQLite çš„ JSON æ”¯æŒæœ‰é™ï¼Œé‡‡ç”¨ Python ç«¯è¿‡æ»¤ç­–ç•¥ï¼š
1. å…ˆä»æ•°æ®åº“è·å–å€™é€‰å¡ç‰‡ï¼ˆè·å– limit * 3 ä»¥ç¡®ä¿è¶³å¤Ÿç»“æœï¼‰
2. åœ¨ Python ç«¯éå†å¡ç‰‡çš„ chinese_tags
3. ä½¿ç”¨ä¸åŒºåˆ†å¤§å°å†™çš„åŒ¹é…
4. è¿”å›å‰ limit ä¸ªåŒ¹é…çš„ç»“æœ

**API ç«¯ç‚¹**ï¼š
- `GET /api/v1/recommend/?field=llm&limit=10`
- `GET /api/v1/cards/?field=cv&limit=20`

**å½±å“æ–‡ä»¶**ï¼š
- [backend/app/api/recommend.py](backend/app/api/recommend.py#L41-L93) - æ¨èæ¥å£å¢å¼º
- [backend/app/api/cards.py](backend/app/api/cards.py#L61-L127) - å¡ç‰‡åˆ—è¡¨æ¥å£å¢å¼º

**æµ‹è¯•ç»“æœ**ï¼š
```bash
# LLM é¢†åŸŸæµ‹è¯•
$ curl "http://localhost:8000/api/v1/recommend/?field=llm&limit=5"
# è¿”å› 5 æ¡åŒ…å« LLM ç›¸å…³æ ‡ç­¾çš„ç»“æœ

# CV é¢†åŸŸæµ‹è¯•
$ curl "http://localhost:8000/api/v1/recommend/?field=cv&limit=3"
# è¿”å› 3 æ¡è®¡ç®—æœºè§†è§‰ç›¸å…³ç»“æœ
# æ ‡ç­¾åŒ…æ‹¬: å›¾åƒè¶…åˆ†è¾¨ç‡, è®¡ç®—æœºè§†è§‰, 3Då‡ ä½•é‡å»ºç­‰
```

**å‰ç«¯é›†æˆ**ï¼š
å‰ç«¯çš„ DiscoverPage å’Œ ExplorePage å·²ç»æœ‰é¢†åŸŸé€‰æ‹©UIï¼Œç°åœ¨åç«¯APIå®Œå…¨æ”¯æŒï¼š

```typescript
// DiscoverPage.tsx
<Tag
  color={selectedField === 'llm' ? 'blue' : 'default'}
  onClick={() => setSelectedField('llm')}
>
  {t('discover.llm') || 'LLM'}
</Tag>
```

ç‚¹å‡»ä¸åŒé¢†åŸŸæ ‡ç­¾ä¼šè‡ªåŠ¨å‘åç«¯å‘é€å¯¹åº”çš„ field å‚æ•°ã€‚

---

## ä¸‰ã€æŠ€æœ¯å€ºåŠ¡æ¸…ç†

### 3.1 ç§»é™¤çš„åŠŸèƒ½
æ— 

### 3.2 å¾…ä¼˜åŒ–é¡¹ç›®

#### é«˜ä¼˜å…ˆçº§
1. **å…ƒæ•°æ®çœŸå®æå–**
   - å½“å‰ metadata å…¨éƒ¨è¿”å› null
   - éœ€è¦å®ç° GitHub stars/forks æå–
   - éœ€è¦å®ç° arXiv citations æå–

2. **ç¿»è¯‘æœåŠ¡é›†æˆ**
   - translate_to å‚æ•°å·²å®šä¹‰ä½†æœªå®ç°
   - éœ€è¦é›†æˆ DeepL æˆ– Google Translate API

3. **UserFavorite æ•°æ®æ¨¡å‹**
   - æ”¶è—åŠŸèƒ½å½“å‰ä¸ºæ¨¡æ‹Ÿå®ç°
   - éœ€è¦åˆ›å»ºçœŸå®çš„æ•°æ®åº“è¡¨

#### ä¸­ä¼˜å…ˆçº§
1. **é¢†åŸŸç­›é€‰æ€§èƒ½ä¼˜åŒ–**
   - å½“å‰åœ¨ Python ç«¯è¿‡æ»¤æ•ˆç‡è¾ƒä½
   - è€ƒè™‘ä½¿ç”¨ PostgreSQL çš„ JSON æŸ¥è¯¢èƒ½åŠ›
   - æˆ–è€…ä¸º chinese_tags å»ºç«‹å…¨æ–‡ç´¢å¼•

2. **ç¼–ç¨‹è¯­è¨€ç­›é€‰**
   - å‰ç«¯UIå·²æœ‰ï¼Œåç«¯æœªå®ç°
   - éœ€è¦ä» metadata ä¸­æå– language å­—æ®µ

3. **Staræ•°ç­›é€‰**
   - å‰ç«¯UIå·²æœ‰ï¼Œåç«¯æœªå®ç°
   - éœ€è¦å…ƒæ•°æ®æå–å®Œæˆåå®ç°

#### ä½ä¼˜å…ˆçº§
1. **TypeScript è­¦å‘Šæ¸…ç†**
   - 30ä¸ªæœªä½¿ç”¨å˜é‡è­¦å‘Š
   - ä¸å½±å“åŠŸèƒ½è¿è¡Œ

2. **ç­›é€‰æ¡ä»¶æŒä¹…åŒ–**
   - ä¿å­˜ç”¨æˆ·çš„ç­›é€‰åå¥½åˆ° localStorage

---

## å››ã€æ€§èƒ½å½±å“

### 4.1 é¢†åŸŸç­›é€‰æ€§èƒ½
- **æŸ¥è¯¢é‡**: ä»æ•°æ®åº“è·å– limit * 3 æ¡è®°å½•
- **é¢å¤–å¼€é”€**: Python ç«¯æ ‡ç­¾åŒ¹é…
- **é€‚ç”¨åœºæ™¯**: æ•°æ®é‡ < 10ä¸‡æ¡æ—¶æ€§èƒ½å¯æ¥å—
- **ä¼˜åŒ–å»ºè®®**: æ•°æ®é‡å¢é•¿åè€ƒè™‘å…¨æ–‡ç´¢å¼•æˆ– PostgreSQL

### 4.2 é¡µé¢åŠ è½½æ€§èƒ½
- **ä¿®å¤å‰**: é¡µé¢å´©æºƒï¼Œæ— æ³•åŠ è½½
- **ä¿®å¤å**: æ­£å¸¸åŠ è½½ï¼Œæ— æ€§èƒ½å½±å“
- **ç©ºå€¼æ£€æŸ¥**: å¯å¿½ç•¥çš„æ€§èƒ½å¼€é”€

---

## äº”ã€æµ‹è¯•éªŒè¯

### 5.1 åŠŸèƒ½æµ‹è¯•

| æµ‹è¯•é¡¹ | æµ‹è¯•ç»“æœ | è¯´æ˜ |
|-------|---------|------|
| DiscoverPage åŠ è½½ | âœ… é€šè¿‡ | æ— å´©æºƒï¼Œæ­£å¸¸æ˜¾ç¤º |
| ExplorePage åŠ è½½ | âœ… é€šè¿‡ | æ— å´©æºƒï¼Œæ­£å¸¸æ˜¾ç¤º |
| CollectionsPage åŠ è½½ | âœ… é€šè¿‡ | æ— å´©æºƒï¼Œæ­£å¸¸æ˜¾ç¤º |
| LLM é¢†åŸŸç­›é€‰ | âœ… é€šè¿‡ | è¿”å›æ­£ç¡®çš„ LLM å†…å®¹ |
| CV é¢†åŸŸç­›é€‰ | âœ… é€šè¿‡ | è¿”å›æ­£ç¡®çš„ CV å†…å®¹ |
| metadata null å¤„ç† | âœ… é€šè¿‡ | ä¸æ˜¾ç¤ºnullå­—æ®µï¼Œæ— å´©æºƒ |
| tags undefined å¤„ç† | âœ… é€šè¿‡ | ä¸æ˜¾ç¤ºtagsåŒºåŸŸï¼Œæ— å´©æºƒ |

### 5.2 API æµ‹è¯•

```bash
# åŸºç¡€æ¨èï¼ˆæ— ç­›é€‰ï¼‰
âœ… GET /api/v1/recommend/?limit=10

# LLM é¢†åŸŸç­›é€‰
âœ… GET /api/v1/recommend/?field=llm&limit=5

# CV é¢†åŸŸç­›é€‰
âœ… GET /api/v1/recommend/?field=cv&limit=5

# å¡ç‰‡åˆ—è¡¨ + é¢†åŸŸç­›é€‰
âœ… GET /api/v1/cards/?field=ml&limit=10

# å¡ç‰‡åˆ—è¡¨ + æ•°æ®æº + é¢†åŸŸ
âœ… GET /api/v1/cards/?source=arxiv&field=nlp&limit=10
```

---

## å…­ã€å‡çº§æŒ‡å—

### 6.1 ä» v0.4.0 å‡çº§

**å‰ç«¯**ï¼š
- æ— éœ€ä»»ä½•æ“ä½œï¼ŒVite çƒ­æ›´æ–°è‡ªåŠ¨åº”ç”¨

**åç«¯**ï¼š
- æ— éœ€æ•°æ®åº“è¿ç§»
- æ— éœ€é…ç½®æ–‡ä»¶ä¿®æ”¹
- è‡ªåŠ¨çƒ­é‡è½½åº”ç”¨æ›´æ”¹

**éªŒè¯å‡çº§**ï¼š
```bash
# 1. è®¿é—®æ–°é¡µé¢ç¡®è®¤ä¸å´©æºƒ
http://localhost:5173/discover
http://localhost:5173/explore
http://localhost:5173/collections

# 2. æµ‹è¯•é¢†åŸŸç­›é€‰
é€‰æ‹©ä¸åŒçš„é¢†åŸŸæ ‡ç­¾ï¼Œè§‚å¯Ÿç»“æœå˜åŒ–

# 3. æ£€æŸ¥æ§åˆ¶å°
ç¡®è®¤æ²¡æœ‰ TypeError é”™è¯¯
```

### 6.2 é…ç½®å˜æ›´
æ— 

---

## ä¸ƒã€å·²çŸ¥é—®é¢˜

1. **é¢†åŸŸç­›é€‰ç»“æœå¯èƒ½è¾ƒå°‘**
   - åŸå› ï¼šæŸäº›é¢†åŸŸçš„å†…å®¹åœ¨æ•°æ®åº“ä¸­è¾ƒå°‘
   - ç¼“è§£ï¼šç³»ç»Ÿä¼šå°½é‡è¿”å›ç›¸å…³å†…å®¹ï¼Œå³ä½¿å°‘äºè¯·æ±‚çš„ limit

2. **metadata å…¨éƒ¨ä¸º null**
   - å½±å“ï¼šæ— æ³•æ˜¾ç¤º starsã€forksã€citations ç­‰ä¿¡æ¯
   - è®¡åˆ’ï¼šv0.5.0 å®ç°çœŸå®æ•°æ®æå–

3. **Ant Design deprecation è­¦å‘Š**
   - è­¦å‘Šï¼š`bodyStyle` is deprecated
   - å½±å“ï¼šä»…æ§åˆ¶å°è­¦å‘Šï¼Œä¸å½±å“åŠŸèƒ½
   - è®¡åˆ’ï¼šåç»­ç‰ˆæœ¬æ›´æ–°åˆ°æ–°çš„ API

---

## å…«ã€è´¡çŒ®è€…

- **Claude (Anthropic AI Assistant)** - å…¨éƒ¨å¼€å‘å·¥ä½œ

---

## ä¹ã€ä¸‹ä¸€æ­¥è®¡åˆ’ (v0.5.0)

**ä¸»è¦åŠŸèƒ½**ï¼š
1. âœ¨ çœŸå®å…ƒæ•°æ®æå–ï¼ˆGitHub APIã€arXiv APIï¼‰
2. âœ¨ å®Œæ•´çš„æ”¶è—åŠŸèƒ½ï¼ˆUserFavorite æ•°æ®æ¨¡å‹ï¼‰
3. âœ¨ ç¿»è¯‘æœåŠ¡é›†æˆ
4. âœ¨ ç¼–ç¨‹è¯­è¨€å’Œ Star æ•°ç­›é€‰
5. ğŸ”§ é¢†åŸŸç­›é€‰æ€§èƒ½ä¼˜åŒ–

**é¢„è®¡å‘å¸ƒ**: 2025å¹´11æœˆä¸­æ—¬

---

## åã€æ€»ç»“

v0.4.1 æ˜¯ä¸€ä¸ªé‡è¦çš„ç¨³å®šæ€§æ›´æ–°ï¼š

### ä¿®å¤çš„é—®é¢˜
- âœ… ä¿®å¤äº†æ‰€æœ‰æ–°é¡µé¢çš„å´©æºƒé—®é¢˜
- âœ… å®ç°äº†ç”¨æˆ·æ€¥éœ€çš„é¢†åŸŸç­›é€‰åŠŸèƒ½
- âœ… æé«˜äº†ç³»ç»Ÿçš„å¥å£®æ€§å’Œç”¨æˆ·ä½“éªŒ

### æ–°å¢åŠŸèƒ½
- âœ¨ 5ä¸ªæŠ€æœ¯é¢†åŸŸçš„æ™ºèƒ½ç­›é€‰
- âœ¨ æ”¯æŒä¸­è‹±æ–‡æ ‡ç­¾æ··åˆåŒ¹é…
- âœ¨ å®Œæ•´çš„ç©ºå€¼å®‰å…¨å¤„ç†

### æŠ€æœ¯æ”¹è¿›
- ğŸ”§ å®Œå–„çš„å‰ç«¯é˜²å¾¡å¼ç¼–ç¨‹
- ğŸ”§ çµæ´»çš„åç«¯ç­›é€‰ç­–ç•¥
- ğŸ”§ è¯¦ç»†çš„ä»£ç æ³¨é‡Šå’Œæ–‡æ¡£

**ç°åœ¨ç”¨æˆ·å¯ä»¥æ­£å¸¸è®¿é—®æ‰€æœ‰æ–°åŠŸèƒ½é¡µé¢ï¼Œå¹¶é€šè¿‡é¢†åŸŸç­›é€‰å¿«é€Ÿæ‰¾åˆ°æ„Ÿå…´è¶£çš„æŠ€æœ¯å†…å®¹ï¼** ğŸ‰

---

**æ–‡æ¡£ç‰ˆæœ¬**: v1.0
**æœ€åæ›´æ–°**: 2025-11-06
**ä½œè€…**: Claude (Anthropic)
